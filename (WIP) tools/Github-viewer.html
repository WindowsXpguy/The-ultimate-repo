<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ğŸ‡¨ğŸ‡³ GitHub Repo æµè§ˆå™¨</title>
  <style>
    body { background: #000; color: #0f0; font-family: monospace; padding: 20px; }
    ul { list-style: none; padding-left: 20px; }
    li { margin: 5px 0; }
    a { color: #0ff; text-decoration: none; }
    pre { background: #111; padding: 10px; border: 1px solid #0f0; white-space: pre-wrap; word-break: break-word; }
  </style>
</head>
<body>
  <h1>ğŸ—‚ï¸ GitHub æ–‡ä»¶æŸ¥çœ‹å™¨</h1>
  <div id="fileList">ğŸ”„ æ­£åœ¨åŠ è½½æ–‡ä»¶åˆ—è¡¨...</div>
  <pre id="fileContent"></pre>

  <script>
    const user = "WindowsXpguy";
    const repo = "The-ultimate-repo";
    const branch = "main";
    const apiUrl = `https://api.github.com/repos/${user}/${repo}/contents/`;

    async function loadRepo(path = "") {
      document.getElementById("fileList").innerHTML = "ğŸ”„ åŠ è½½ä¸­...";
      try {
        const res = await fetch(apiUrl + path);
        const data = await res.json();
        if (!Array.isArray(data)) throw new Error("é”™è¯¯æ•°æ®");

        let html = "<ul>";
        if (path) {
          const up = path.split("/").slice(0, -1).join("/");
          html += `<li><a href="#" onclick="loadRepo('${up}')">ğŸ”™ è¿”å›ä¸Šå±‚</a></li>`;
        }

        for (const item of data) {
          if (item.type === "dir") {
            html += `<li>ğŸ“ <a href="#" onclick="loadRepo('${item.path}')">${item.name}</a></li>`;
          } else if (item.type === "file") {
            html += `<li>ğŸ“„ <a href="#" onclick="loadFile('${item.download_url}')">${item.name}</a></li>`;
          }
        }
        html += "</ul>";
        document.getElementById("fileList").innerHTML = html;
      } catch (e) {
        document.getElementById("fileList").innerHTML = "âŒ åŠ è½½å¤±è´¥æˆ–è¢«æ‹¦æˆª";
      }
    }

    async function loadFile(url) {
      try {
        const res = await fetch(url);
        const content = await res.text();
        document.getElementById("fileContent").textContent = content;
      } catch {
        document.getElementById("fileContent").textContent = "âŒ æ— æ³•åŠ è½½æ–‡ä»¶å†…å®¹";
      }
    }

    loadRepo();
  </script>
</body>
</html>
